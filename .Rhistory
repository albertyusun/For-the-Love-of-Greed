anti_join((custom_stop))
tidy_TCP
custom_stop <- tibble(word = c("[unnumbered]","ã","thou","thy","hense","\210â",
"doth", "1", "2", "â","3","page","unnumbered"))
data(stop_words)
#data(custom_stop)
tidy_TCP <- TCP_words %>%
anti_join(stop_words) %>%
anti_join((custom_stop))
tidy_TCP
custom_stop <- tibble(word = c("[unnumbered]","ã","thou","thy","hense","\210â",
"doth", "1", "2", "â","3","page","unnumbered"))
data(stop_words)
tidy_TCP <- TCP_words %>%
anti_join(stop_words) %>%
anti_join((custom_stop))
tidy_TCP
ggplot(TCP_words, aes(n/total, fill = author)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.0009) +
facet_wrap(~author, ncol = 2, scales = "free_y")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.0009) +
facet_wrap(~author, ncol = 2, scales = "free_y")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.0009) +
facet_wrap(~book, ncol = 2, scales = "free_y")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.000009) +
facet_wrap(~book, ncol = 2, scales = "free_y")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.009) +
facet_wrap(~book, ncol = 2, scales = "free_y")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.09) +
facet_wrap(~book, ncol = 2, scales = "free_y")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.009) +
facet_wrap(~book, ncol = 2, scales = "free_y")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.005) +
facet_wrap(~book, ncol = 2, scales = "free_y")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.005) +
facet_wrap(~book, ncol = 2, scales = "free_y") +
labs(x = "# words/Total", y = "Count")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.003) +
facet_wrap(~book, ncol = 2, scales = "free_y") +
labs(x = "# words/Total", y = "Count")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.002) +
facet_wrap(~book, ncol = 2, scales = "free_y") +
labs(x = "# words/Total", y = "Count")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.009) +
facet_wrap(~book, ncol = 2, scales = "free_y") +
labs(x = "# words/Total", y = "Count")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.01) +
facet_wrap(~book, ncol = 2, scales = "free_y") +
labs(x = "# words/Total", y = "Count")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.02) +
facet_wrap(~book, ncol = 2, scales = "free_y") +
labs(x = "# words/Total", y = "Count")
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book, word, sort = TRUE)
#total_words: book, # total words in the book
total_words <- TCP_words %>%
#  group_by(author) %>%
group_by(book) %>%
summarize(total = sum(n))
#TCP_words: book, word, # of occurrences, total words
TCP_words <- left_join(TCP_words, total_words)
TCP_words
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20)) %>%
filter(book != "B[y] vertue of holy")
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book, word, sort = TRUE)
#total_words: book, # total words in the book
total_words <- TCP_words %>%
#  group_by(author) %>%
group_by(book) %>%
summarize(total = sum(n))
#TCP_words: book, word, # of occurrences, total words
TCP_words <- left_join(TCP_words, total_words)
TCP_words
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20)) %>%
filter(book != "B[y] vertue of holy")
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book, word, sort = TRUE)
#total_words: book, # total words in the book
total_words <- TCP_words %>%
#  group_by(author) %>%
group_by(book) %>%
summarize(total = sum(n))
#TCP_words: book, word, # of occurrences, total words
TCP_words <- left_join(TCP_words, total_words)
TCP_words
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20)) %>%
filter(X!=4)
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book, word, sort = TRUE)
#total_words: book, # total words in the book
total_words <- TCP_words %>%
#  group_by(author) %>%
group_by(book) %>%
summarize(total = sum(n))
#TCP_words: book, word, # of occurrences, total words
TCP_words <- left_join(TCP_words, total_words)
TCP_words
custom_stop <- tibble(word = c("[unnumbered]","ã","thou","thy","hense","\210â",
"doth", "1", "2", "â","3","page","unnumbered"))
data(stop_words)
tidy_TCP <- TCP_words %>%
anti_join(stop_words) %>%
anti_join((custom_stop))
tidy_TCP
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, 0.02) +
facet_wrap(~book, ncol = 2, scales = "free_y") +
labs(x = "# words/Total", y = "Count")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
facet_wrap(~book, ncol = 2, scales = "free_y") +
labs(x = "# words/Total", y = "Count")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, .04) +
facet_wrap(~book, ncol = 2, scales = "free_y") +
labs(x = "# words/Total", y = "Count")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, .02) +
facet_wrap(~book, ncol = 2, scales = "free_y") +
labs(x = "# words/Total", y = "Count")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
xlim(NA, .15) +
facet_wrap(~book, ncol = 2, scales = "free_y") +
labs(x = "# words/Total", y = "Count")
ggplot(TCP_words, aes(n/total, fill = book)) +
geom_histogram(show.legend = FALSE, bins = 10) +
facet_wrap(~book, ncol = 2, scales = "free_y") +
labs(x = "# words/Total", y = "Count")
library(stm)
library(quanteda)
eebo_dfm <- tidy_TCP %>%
count(story, word, sort = TRUE) %>%
cast_dfm(story, word, n)
TCP_dfm <- tidy_TCP %>%
count(book, word, sort = TRUE) %>%
cast_dfm(book, word, n)
TCP_dfm <- tidy_TCP %>%
count(book, word, sort = TRUE) %>%
cast_dfm(book, word, n, wt = n)
TCP_dfm <- tidy_TCP %>%
count(book, word, sort = TRUE, wt = n) %>%
cast_dfm(book, word, n)
TCP_dfm <- tidy_TCP %>%
count(book, word, sort = TRUE, wt = n) %>%
cast_dfm(book, word, n)
topic_model <- stm(sherlock_dfm, K = 2, init.type = "Spectral")
TCP_dfm <- tidy_TCP %>%
count(book, word, sort = TRUE, wt = n) %>%
cast_dfm(book, word, n)
topic_model <- stm(TCP_dfm, K = 2, init.type = "Spectral")
summary(topic_model)
custom_stop <- tibble(word = c("[unnumbered]","ã","thou","thy","hense","\210â",
"doth", "1", "2", "â","3","page","unnumbered"))
data(stop_words)
tidy_TCP <- TCP_words %>%
anti_join(stop_words) %>%
anti_join((custom_stop))
tidy_TCP
TCP_dfm <- tidy_TCP %>%
count(book, word, sort = TRUE, wt = n) %>%
cast_dfm(book, word, n)
topic_model <- stm(TCP_dfm, K = 3, init.type = "Spectral")
short <- short %>%
mutate(book = substr(title, 1, 20)) %>%
filter(X!=4)
short
summary(topic_model)
TCP_dfm <- tidy_TCP %>%
count(book, word, sort = TRUE, wt = n) %>%
cast_dfm(book, word, n)
topic_model <- stm(TCP_dfm, K = 4, init.type = "Spectral")
summary(topic_model)
TCP_dfm <- tidy_TCP %>%
count(book, word, sort = TRUE, wt = n) %>%
cast_dfm(book, word, n)
topic_model <- stm(TCP_dfm, K = 5, init.type = "Spectral")
library(tidyverse)
install.packages(tidyverse)
install.packages("tidyverse")
library(tidyverse)
library(plyr)
library(dplyr)
library(tidytext)
library(janeaustenr)
library(stringr)
library(ggplot2)
library(tm)
library(topicmodels)
library(data.table)
library(reshape2)
library(tidyverse)
short <- read_csv("CSVs/metadata-shorter.csv", encoding="UTF-8")
library(tidyverse)
library(plyr)
library(dplyr)
library(tidytext)
library(janeaustenr)
library(stringr)
library(ggplot2)
library(data.table)
library(reshape2)
library(tidyverse)
short <- read_csv("CSVs/metadata-shorter.csv", encoding="UTF-8")
short <- read.csv("CSVs/metadata-shorter.csv", encoding="UTF-8")
#encoding removes the weird A symbols
#short <- read.csv("C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv")
#short <- fread('C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv')
View(short_Corpus)
View(short_lda)
View(short_tdm)
View(short)
View(myCorpus)
View(custom_stop)
View(book_words)
View(AssociatedPress)
View(short_Corpus)
View(short_tdm)
View(short_topics)
View(stop_words)
View(TCP_dfm)
View(text_df)
View(tidy_TCP)
View(short)
knitr::opts_chunk$set(echo = TRUE)
library(stm)
library(quanteda)
TCP_dfm <- tidy_TCP %>%
count(book, word, sort = TRUE, wt = n) %>%
cast_dfm(book, word, n)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(plyr)
library(dplyr)
library(tidytext)
library(janeaustenr)
library(stringr)
library(ggplot2)
library(data.table)
library(reshape2)
library(tidyverse)
short <- read.csv("CSVs/metadata-shorter.csv", encoding="UTF-8")
#encoding removes the weird A symbols
#short <- read.csv("C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv")
#short <- fread('C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv')
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book, word, sort = TRUE)
TCP_dfm <- tidy_TCP %>%
count(book, word, sort = TRUE, wt = n) %>%
cast_dfm(book, word, n)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(plyr)
library(dplyr)
library(tidytext)
library(janeaustenr)
library(stringr)
library(ggplot2)
library(data.table)
library(reshape2)
library(tidyverse)
short <- read.csv("CSVs/metadata-shorter.csv", encoding="UTF-8")
#encoding removes the weird A symbols
#short <- read.csv("C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv")
#short <- fread('C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv')
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book, word, sort = TRUE)
library(tidyverse)
library(plyr)
library(dplyr)
library(tidytext)
library(janeaustenr)
library(stringr)
library(ggplot2)
library(data.table)
library(reshape2)
library(tidyverse)
short <- read.csv("CSVs/metadata-shorter.csv", encoding="UTF-8")
#encoding removes the weird A symbols
#short <- read.csv("C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv")
#short <- fread('C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv')
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book, word, sort = TRUE)
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book, word)
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book, word, sort = TRUE)
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book, word, sort = TRUE)
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book)
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book, word, sort = TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(plyr)
library(dplyr)
library(tidytext)
library(janeaustenr)
library(stringr)
library(ggplot2)
library(data.table)
library(reshape2)
library(tidyverse)
short <- read.csv("CSVs/metadata-shorter.csv", encoding="UTF-8")
#encoding removes the weird A symbols
#short <- read.csv("C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv")
#short <- fread('C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv')
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(plyr)
library(dplyr)
library(tidytext)
library(janeaustenr)
library(stringr)
library(ggplot2)
library(data.table)
library(reshape2)
library(tidyverse)
short <- read.csv("CSVs/metadata-shorter.csv", encoding="UTF-8")
#encoding removes the weird A symbols
#short <- read.csv("C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv")
#short <- fread('C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv')
short <- read.csv("CSVs/metadata-shorter.csv", encoding="UTF-8")
#encoding removes the weird A symbols
#short <- read.csv("C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv")
#short <- fread('C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv')
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book, word, sort = TRUE)
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(book, word)
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
count(word, sort = TRUE)
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
dplyr::count(word, sort = TRUE)
#total_words: book, # total words in the book
total_words <- TCP_words %>%
#  group_by(author) %>%
group_by(book) %>%
summarize(total = sum(n))
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
dplyr::count(book, word, sort = TRUE)
#total_words: book, # total words in the book
total_words <- TCP_words %>%
#  group_by(author) %>%
group_by(book) %>%
summarize(total = sum(n))
#TCP_words: book, word, # of occurrences, total words
TCP_words <- left_join(TCP_words, total_words)
#shorten titles to 20 char into a new variable called 'book'
short <- short %>%
mutate(book = substr(title, 1, 20))
short
#TCP_words: book, word, # of occurrences
TCP_words <- short %>%
unnest_tokens(word, booktext) %>%
dplyr::count(book, word, sort = TRUE)
TCP_words
#total_words: book, # total words in the book
total_words <- TCP_words %>%
#  group_by(author) %>%
group_by(book) %>%
summarize(total = sum(n))
#TCP_words: book, word, # of occurrences, total words
TCP_words <- left_join(TCP_words, total_words)
total_words
TCP_words
View(AssociatedPress)
rm(list = ls(all.names = TRUE))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(plyr)
library(dplyr)
library(tidytext)
library(janeaustenr)
library(stringr)
library(ggplot2)
library(data.table)
library(reshape2)
library(tidyverse)
short <- read.csv("CSVs/metadata-shorter.csv", encoding="UTF-8")
#encoding removes the weird A symbols
#short <- read.csv("C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv")
#short <- fread('C:\\Users\\andre\\Metadata\\MetaThird2\\metaThird2.csv')
